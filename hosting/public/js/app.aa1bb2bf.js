(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},r=[];function i(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"df8d768b"}[e]+".js"}function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,s){a=n[e]=[t,s]}));t.push(a[2]=s);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(e);var l=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=n[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,a[1](l)}n[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"080a":function(e,t,a){"use strict";a("855f")},3168:function(e,t,a){"use strict";a("8307")},"354e":function(e,t,a){"use strict";a("d37c")},"43af":function(e,t,a){},"47d1":function(e,t,a){"use strict";a("e815")},"49a6":function(e,t,a){"use strict";a("43af")},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[s("router-link",{staticClass:"d-flex align-center",attrs:{to:"/"}},[s("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Hill climb Racing 2 logo",contain:"",src:a("754f"),transition:"scale-transition",width:"40"}}),s("span",[e._v(" Hill Climb Racing 2 - Team's statistic")])],1),s("v-spacer"),s("NavbarUserAccount")],1),s("v-main",[s("router-view")],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"",transition:"slide-x-transition",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{href:"",text:""}},"v-btn",n,!1),s),[a("span",{staticClass:"mr-2"},[e._v("Account")]),a("v-icon",[e._v("mdi-account")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[null===e.uuid?a("v-list",[a("v-list-item-group",[a("v-list-item",{on:{click:e.dialogSignUpFn}},[e._v("Créer un compte")]),a("v-list-item",{on:{click:e.dialogSignInFn}},[e._v("Se connecter")])],1)],1):a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/john.jpg",alt:"John"}})]),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.user.nickname))]),a("v-list-item-subtitle",[e._v(e._s(e.user.teamname))]),a("v-list-item-subtitle",[e._v(e._s(e.user.role))])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",to:"/Dashboard/"+e.uuid}},[e._v("Dashboard")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.signOut}},[e._v("Loggout")])],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogSignUp,callback:function(t){e.dialogSignUp=t},expression:"dialogSignUp"}},[a("FormSignUp",{on:{close:e.closeDialog}})],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogSignIn,callback:function(t){e.dialogSignIn=t},expression:"dialogSignIn"}},[a("FormSignIn",{on:{close:e.closeDialog}})],1)],1)],1)},o=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Se connecter ")]),e.wrongPassword?a("p",{staticClass:"warning"},[e._v(" "+e._s(e.wrongPasswordMsg)+" ")]):e._e(),e.wrongEmail?a("p",{staticClass:"warning"},[e._v(" "+e._s(e.wrongEmailMsg)+" ")]):e._e(),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"E-mail",type:"email",rules:e.emailRules,required:"",current:"",autocomplete:"username"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Password",type:"password",autocomplete:"current-password",rules:[function(e){return!!e||"Requis"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{staticClass:"mr-2",attrs:{color:"success"},on:{click:e.validateCode}},[e._v(" Login ")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.cancel}},[e._v(" Annuler ")])],1)],1)],1)],1)],1)],1)},l=[],u=(a("ac1f"),a("00b4"),a("260b")),d={apiKey:"AIzaSyAztBoqi4K2157vcork8Ev9MH9foM9wcyo",authDomain:"hillclimbracing2-8c3d6.firebaseapp.com",projectId:"hillclimbracing2-8c3d6",storageBucket:"hillclimbracing2-8c3d6.appspot.com",messagingSenderId:"567871798253",appId:"1:567871798253:web:b354e274972448932a85e4",measurementId:"G-GSVQGR8H1G",databaseURL:"https://hillclimbracing2-8c3d6-default-rtdb.europe-west1.firebasedatabase.app"},m=Object(u["a"])(d),v=m,f=a("ea7b"),p={props:{},data:function(){return{valid:!0,email:"",emailRules:[function(e){return!!e||"Requis"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:"",wrongPassword:!1,wrongEmail:!1,wrongPasswordMsg:"Le mot de passe rentré est incorrecte",wrongEmailMsg:"l'email rentré n'existe pas dans la base de donnée"}},created:function(){},methods:{validateCode:function(){var e=this;if(this.$refs.form.validate()){var t=Object(f["b"])();Object(f["d"])(t,this.email,this.password).then((function(t){var a=t.user,s=a.uid;e.$store.dispatch("setUuid",s),e.$emit("close"),e.$refs.form.reset()})).catch((function(t){var a=t.code,s=t.message;console.log(s),"auth/wrong-password"===a&&(e.wrongPassword=!0),"auth/user-not-found"===a&&(e.wrongEmail=!0)}))}},cancel:function(){this.$refs.form.reset(),this.$emit("close")}}},h=p,b=a("2877"),g=a("6544"),k=a.n(g),_=a("8336"),x=a("b0af"),y=a("99d9"),w=a("62ad"),C=a("a523"),I=a("4bd4"),P=a("0fd9b"),E=a("8654"),S=Object(b["a"])(h,c,l,!1,null,"01af0c38",null),V=S.exports;k()(S,{VBtn:_["a"],VCard:x["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:C["a"],VForm:I["a"],VRow:P["a"],VTextField:E["a"]});var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Créer un compte ")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.accountAlreadyExist,expression:"accountAlreadyExist"}],staticClass:"warning"},[e._v(e._s(e.accountAlreadyExistMsg))]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.invalidEmail,expression:"invalidEmail"}],staticClass:"warning"},[e._v(e._s(e.invalidEmailMsg))]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.weakPw,expression:"weakPw"}],staticClass:"warning"},[e._v(e._s(e.weakPwMsg))]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"Pseudo In Game",type:"name",autocomplete:"nickname",rules:[function(e){return!!e||"Requis"}]},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}}),a("v-text-field",{attrs:{label:"Email",suffix:e.emailSuffixe,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-select",{attrs:{items:e.roleItems,label:"Tu es :",rules:[function(e){return!!e||"Merci d'indiquer ton rôle"}],required:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}}),a("v-text-field",{attrs:{label:"Password",autocomplete:"current-password",rules:[function(e){return!!e||"Requis"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{label:"Password confirm",rules:[function(e){return!!e||"Requis"}]||!1},on:{input:e.checkPassword},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:e.passwordConfirmError,expression:"passwordConfirmError"}],staticClass:"warning"},[e._v(e._s(e.passwordConfirmErrorMsg))]),a("v-btn",{staticClass:"mr-2",attrs:{color:"success"},on:{click:e.validateCode}},[e._v(" Créer ")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.cancel}},[e._v(" Annuler ")])],1)],1)],1)],1)],1)],1)},j=[],O=a("66ce"),D={props:{},data:function(){return{valid:!0,emailSuffixe:"@hcr2.com",email:"",nickname:"",role:null,roleItems:["leader","coleader","membre"],emailRules:[function(e){return!!e||"Requis"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:"",confirm:"",passwordConfirmError:!1,passwordConfirmErrorMsg:"Les Mdp doivent être similaires",accountAlreadyExist:!1,accountAlreadyExistMsg:"Le compte existe déjà",invalidEmail:!1,invalidEmailMsg:"Format d'email invalide",weakPw:!1,weakPwMsg:"Le mot de passe doit contenir au moins 6 caractères"}},created:function(){},methods:{validateCode:function(){var e=this;if(this.confirm===this.password&&this.$refs.form.validate()){var t=this.email+this.emailSuffixe,a=Object(f["b"])();Object(f["a"])(a,t,this.password).then((function(e){var t=e.user.uid;return t})).then((function(a){function s(e,t,a,s){var n=Object(O["a"])(v);Object(O["d"])(Object(O["c"])(n,"users/"+e),{nickname:t,role:a,email:s})}s(a,e.nickname,e.role,t),e.$store.dispatch("setUser",{nickname:e.nickname,role:e.role,email:t}),e.$emit("close"),e.$refs.form.reset(),console.log("end")})).catch((function(t){var a=t.code,s=t.message;console.log(a,s),"auth/email-already-in-use"===a&&(e.accountAlreadyExist=!0),"auth/invalid-email"===a&&(e.invalidEmail=!0),"auth/weak-password"===a&&(e.weakPw=!0)}))}},checkPassword:function(){this.confirm===this.password?this.passwordConfirmError=!1:this.passwordConfirmError=!0},cancel:function(){this.$refs.form.reset(),this.$emit("close")}}},N=D,T=a("b974"),R=Object(b["a"])(N,$,j,!1,null,"5e795d8b",null),B=R.exports;k()(R,{VBtn:_["a"],VCard:x["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:C["a"],VForm:I["a"],VRow:P["a"],VSelect:T["a"],VTextField:E["a"]});var M={components:{FormSignIn:V,FormSignUp:B},name:"NavbarUserAccount",props:{},data:function(){return{dialogSignIn:!1,dialogSignUp:!1,fav:!0,menu:!1,message:!1,hints:!0,userId:null}},watch:{dialogSignUp:function(e){e||this.closeDialog()},dialogSignIn:function(e){e||this.closeDialog()}},mounted:function(){},computed:{uuid:function(){return this.$store.getters.getUuid},user:function(){return this.$store.getters.getUser}},methods:{dialogSignUpFn:function(){this.dialogSignUp=!0},dialogSignInFn:function(){this.dialogSignIn=!0},closeDialog:function(){this.dialogSignIn=!1,this.dialogSignUp=!1},signOut:function(){var e=this,t=Object(f["b"])();Object(f["e"])(t).then((function(){console.log("déconnecté"),e.$store.dispatch("cleanStore"),window.location="/"})).catch((function(e){console.log(e)}))}}},U=M,A=a("169a"),q=a("132d"),F=a("8860"),L=a("da13"),K=a("8270"),z=a("5d23"),J=a("1baa"),G=a("e449"),H=a("2fa4"),W=Object(b["a"])(U,i,o,!1,null,"1dd0947c",null),Q=W.exports;k()(W,{VBtn:_["a"],VCard:x["a"],VCardActions:y["a"],VDialog:A["a"],VIcon:q["a"],VList:F["a"],VListItem:L["a"],VListItemAvatar:K["a"],VListItemContent:z["a"],VListItemGroup:J["a"],VListItemSubtitle:z["b"],VListItemTitle:z["c"],VMenu:G["a"],VSpacer:H["a"]});var X={components:{NavbarUserAccount:Q},name:"App",data:function(){return{}},created:function(){this.checkUser()},methods:{checkUser:function(){var e=this,t=Object(f["b"])();Object(f["c"])(t,(function(t){if(t){console.log("connecté");var a=t.uid;e.$store.dispatch("setUuid",a),localStorage.setItem("uuid",a);var s=Object(O["a"])(),n=Object(O["c"])(s,"users/"+a);Object(O["b"])(n,(function(t){var a=t.val();e.$store.dispatch("setUser",a)}))}else console.log("déconnecté"),localStorage.setItem("uuid",null)}))}}},Y=X,Z=(a("80f0"),a("7496")),ee=a("40dc"),te=a("adda"),ae=a("f6c4"),se=Object(b["a"])(Y,n,r,!1,null,"a4d9ba9e",null),ne=se.exports;k()(se,{VApp:Z["a"],VAppBar:ee["a"],VImg:te["a"],VMain:ae["a"],VSpacer:H["a"]});var re=a("9483");Object(re["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("d3b7"),a("3ca3"),a("ddb0");var ie=a("8c4f"),oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TeamLists")},ce=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"team-list-container"},[a("v-row",{staticClass:"text-center"},[a("h1",[e._v("Liste des teams")]),a("TableSearch")],1)],1)},ue=[],de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"data-search-table-container"},[a("v-data-table",{attrs:{headers:e.headers,items:e.teams,"sort-by":"calories",search:e.search,"custom-filter":e.filterOnlyCapsText},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"mb-5 pt-4",attrs:{flat:""}},[a("v-text-field",{staticClass:"mt-4",attrs:{label:"Rechercher (En caractère minuscule uniquement)"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),void 0===e.user.teamId&&"leader"===e.user.role?a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",n,!1),s),[e._v(" Créer "),a("v-icon",{staticClass:"ml-2",attrs:{small:""}},[e._v(" mdi-plus ")])],1)]}}],null,!1,2083151753),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("FormCreateTeam",{on:{newteam:e.save,close:e.close}})],1)],1)],1)],1)],1)],1):e._e(),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogJoin,callback:function(t){e.dialogJoin=t},expression:"dialogJoin"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Rejoindre "+e._s(Object.values(e.editedItem).join("")))]),a("span",{staticClass:"warning"},[e._v("Tu ne peux rejoindre qu'une équipe à la fois")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("FormInputCodeVerify",{attrs:{teamDatas:e.teamDatas},on:{close:e.close}})],1)],1)],1)],1),a("v-card-actions",{staticClass:"d-none"},[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Valider ")])],1)],1)],1)],1)]},proxy:!0},null!==e.uuid?{key:"item.actions",fn:function(t){var s=t.item;return[s.teamId!==e.user.teamId?a("v-btn",{attrs:{elevation:"2",small:""},on:{click:function(t){return e.joinTeam(s)}}},[e._v(" Rejoindre ")]):e._e(),a("router-link",{attrs:{to:"/teamPage/"+s.teamId}},[s.teamId===e.user.teamId?a("v-icon",{staticClass:"ml-2 arrow-icon"},[e._v(" mdi-arrow-right-bold ")]):e._e()],1)]}}:null,{key:"item.leaders",fn:function(t){var s=t.item;return[e._v(" "+e._s(s.leaders?s.leaders:"0")+" "),a("v-icon",{attrs:{small:""}},[e._v("mdi-account-multiple")])]}},{key:"item.membres",fn:function(t){var s=t.item;return[e._v(" "+e._s(s.actifPlayers?s.actifPlayers:"0")+" "),a("v-icon",{attrs:{small:""}},[e._v("mdi-account-multiple")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})],1)},me=[],ve=a("5530"),fe=a("1da1"),pe=(a("96cf"),a("159b"),a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.teamExist?a("span",{staticClass:"warning"},[e._v(" "+e._s(e.teamExistMsg)+" ")]):e._e(),a("v-text-field",{attrs:{label:"Nom de l'équipe",rules:[function(e){return!!e||"Requis"}],required:""},model:{value:e.teamname,callback:function(t){e.teamname=t},expression:"teamname"}}),a("v-select",{attrs:{items:e.divisionItems,label:"Classement de l'équipe :",rules:[function(e){return!!e||"Classement requis"}],required:""},model:{value:e.division,callback:function(t){e.division=t},expression:"division"}}),a("v-text-field",{attrs:{label:"Crée un code d'entrée à partager avec le leader / coleader (chiffres, lettres, specials etc sans espaces)",rules:[function(e){return!!e||"Requis"}],required:""},model:{value:e.teamCode,callback:function(t){e.teamCode=t},expression:"teamCode"}}),a("v-checkbox",{attrs:{label:"Je certifie est un membre gradé de mon équipe",rules:[function(e){return!!e||"Ce champ est requis !"}],required:""},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}}),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.validate}},[e._v(" Validate ")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.close}},[e._v(" Annuler ")])],1)}),he=[],be=(a("99af"),a("e71f")),ge={data:function(){return{uuid:null,valid:!0,teamExistMsg:"Ce nom d'équipe est déjà pris :/",teamExist:!1,name:"",select:null,checkbox:!1,teamname:"",division:null,divisionItems:["CC","Division I","Division II","Division III","Division IV","Division V","Division VI","Division VII"],teamCode:""}},created:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.uuid=e.$store.getters.getUuid;case 1:case"end":return t.stop()}}),t)})))()},methods:{validate:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[{teamname:e.teamname,division:e.division,teamCode:e.teamCode}],e.$refs.form.validate(),!e.$refs.form.validate()){t.next=25;break}return s=Object(be["f"])(v),n=Object(be["g"])(Object(be["b"])(s,"teams"),Object(be["i"])("teamname","==",e.teamname)),t.next=7,Object(be["e"])(n);case 7:if(r=t.sent,i=null,0!==r.docs.length){t.next=15;break}return t.next=12,be["a"].apply(void 0,[Object(be["b"])(s,"teams")].concat(a));case 12:i=t.sent,t.next=16;break;case 15:e.teamExist=!0;case 16:o=Object(O["a"])(),c=Object(O["c"])(o,"users/"+e.uuid),Object(O["e"])(c,{teamname:a[0].teamname,teamCode:a[0].teamCode,teamId:i.id}),l=null,Object(O["b"])(c,(function(e){var t=e.val();l=t})),e.teamExist=!1,e.$store.dispatch("setUser",l),e.$emit("newteam",a),e.$refs.form.reset();case 25:case"end":return t.stop()}}),t)})))()},close:function(){this.$refs.form.reset(),this.$emit("close")}}},ke=ge,_e=a("ac7c"),xe=Object(b["a"])(ke,pe,he,!1,null,"b5800a82",null),ye=xe.exports;k()(xe,{VBtn:_["a"],VCheckbox:_e["a"],VForm:I["a"],VSelect:T["a"],VTextField:E["a"]});var we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.wrongCode?a("p",{staticClass:"warning"},[e._v(" "+e._s(e.wrongCodeMsg)+" ")]):e._e(),a("v-text-field",{attrs:{label:"Code d'entrée",rules:[function(e){return!!e||"Requis"}]},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("v-btn",{staticClass:"mr-2",attrs:{color:"success"},on:{click:e.validateCode}},[e._v(" Valider ")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.cancel}},[e._v(" Annuler ")])],1)},Ce=[],Ie={props:{teamDatas:{type:Object,default:function(){}}},data:function(){return{valid:!0,code:"",wrongCode:!1,wrongCodeMsg:"Le code ne correspond pas pas avec celui de la team. Contact le leader de la team pour obtenir le bon code d'entrée"}},computed:{uuid:function(){return this.$store.getters.getUuid},user:function(){return this.$store.getters.getUser}},methods:{validateCode:function(){if(this.$refs.form.validate(),this.$refs.form.validate())if(this.teamDatas.teamCode===this.code){var e=Object(O["a"])(v),t=Object(O["c"])(e,"users/"+this.uuid);Object(O["e"])(t,{teamname:this.teamDatas.teamname,teamCode:this.teamDatas.teamCode,teamId:this.teamDatas.teamId});var a=null;Object(O["b"])(t,(function(e){var t=e.val();a=t})),this.$store.dispatch("setUser",a),this.$emit("close"),this.$refs.form.reset()}else this.wrongCode=!0},cancel:function(){this.$refs.form.reset(),this.$emit("close")}}},Pe=Ie,Ee=Object(b["a"])(Pe,we,Ce,!1,null,"8853447e",null),Se=Ee.exports;k()(Ee,{VBtn:_["a"],VForm:I["a"],VTextField:E["a"]});var Ve={components:{FormCreateTeam:ye,FormInputCodeVerify:Se},data:function(){return{dialog:!1,dialogJoin:!1,dialogDelete:!1,search:"",headers:[{text:"Equipes",value:"teamname",align:"start"},{text:"Leaders",value:"leaders"},{text:"Division",value:"division"},{text:"Membres",value:"membres"},{text:"Actions",value:"actions",sortable:!1}],teams:[],teamDatas:null,editedIndex:-1,editedItem:{teamname:"",leaders:0,membres:0,division:"",teamOwner:!1},defaultItem:{teamname:"",leaders:0,membres:0,division:"",teamOwner:!1}}},computed:{formTitle:function(){return-1===this.editedIndex?"Team":"Rejoindre une team"},uuid:function(){return this.$store.getters.getUuid},user:function(){return this.$store.getters.getUser}},watch:{dialog:function(e){e||this.close()},dialogJoin:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.teams=[],a=Object(be["f"])(v),t.next=4,Object(be["e"])(Object(be["b"])(a,"teams"));case 4:s=t.sent,s.forEach((function(t){e.teams.push(Object(ve["a"])(Object(ve["a"])({},t.data()),{},{teamId:t.id}))}));case 6:case"end":return t.stop()}}),t)})))()},filterOnlyCapsText:function(e,t){return null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().toLocaleLowerCase().indexOf(t)},joinTeam:function(e){this.dialogJoin=!0,this.editedIndex=this.teams.indexOf(e.teamname),this.editedItem=Object.assign({},e.teamname),this.teamDatas=e},close:function(){var e=this;this.dialog=!1,this.dialogJoin=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.initialize(),this.close()}}},$e=Ve,je=(a("7a79"),a("8fea")),Oe=a("71d9"),De=Object(b["a"])($e,de,me,!1,null,"fe067920",null),Ne=De.exports;k()(De,{VBtn:_["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:C["a"],VDataTable:je["a"],VDialog:A["a"],VIcon:q["a"],VRow:P["a"],VSpacer:H["a"],VTextField:E["a"],VToolbar:Oe["a"]});var Te={components:{TableSearch:Ne},name:"TeamLists",data:function(){return{}}},Re=Te,Be=Object(b["a"])(Re,le,ue,!1,null,"01e92fbd",null),Me=Be.exports;k()(Be,{VContainer:C["a"],VRow:P["a"]});var Ue={name:"Home",components:{TeamLists:Me}},Ae=Ue,qe=Object(b["a"])(Ae,oe,ce,!1,null,null,null),Fe=qe.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-btn",{on:{click:function(t){e.showInfo=!e.showInfo}}},[e._v("Info")]),"leader"===e.user.role?a("div",{directives:[{name:"show",rawName:"v-show",value:e.showInfo,expression:"showInfo"}],staticClass:"col-12"},[a("p",{staticClass:"mb-0"},[e._v("Bienvenue sur la page de gestion de l'équipe")]),a("ol",{staticClass:"info-list"},[a("li",{staticClass:"mb-0"},[e._v('Avant toute chose il te faut créer un event en cliquant sur "nouvel event"')]),a("li",{staticClass:"mb-0"},[e._v("Rentre le nom de l'event en cours ainsi que la durée total de l'event. Si l'event dure 7 jours rentre les 7 jours")]),a("li",{staticClass:"mb-0"},[e._v("Une fois créé tu pourras rajouter les joueurs en spécifiant leur pseudo, leur grade et leurs stats")]),a("li",{staticClass:"mb-0 warning"},[e._v("L'étape la plus cruciale : Pense bien à sauvegarder après toutes modifications sinon tes saisies seront perdues :/")]),a("li",{staticClass:"mb-0"},[e._v("Une fois l'event en cours terminé tu pourras en créer un nouveau. Note qu'en créant un event celui-ci est automatiquement défini comme l'event en cours.")]),a("li",{staticClass:"mb-0"},[e._v("A la création d'un nouvel event tous les joueurs actifs de ton équipe (non kickés) seront automatiquement affichés !\"")]),a("li",{staticClass:"mb-0 warning"},[e._v("2 fois vaut mieux qu'une, pense bien à sauvegarder tes modifications ;)")]),a("li",{staticClass:"mb-0"},[e._v("Tu peux réduire les infos en cliquant sur le bouton 'INFO' juste au-dessus !")])])]):e._e()],1),a("v-row",[a("h2",{staticClass:"col-6"},[e._v("HillClimbersFr")])]),a("v-row",[a("v-col",{attrs:{sm:"6"}},[a("Modal")],1),a("v-col",{staticClass:"d-flex",attrs:{sm:"6"}},[a("v-spacer"),a("SaveBtns")],1)],1),a("v-row",[a("v-col",{attrs:{md:"9",sm:"6",cols:"12"}},[a("v-select",{attrs:{items:e.eventsItems,label:"events"},model:{value:e.events,callback:function(t){e.events=t},expression:"events"}})],1),a("v-col",{staticClass:"event-btn-container",attrs:{md:"3",sm:"6",cols:"12"}},[a("NewEvent",{on:{"new-event-created":e.newEventCreatedFn}})],1)],1),a("v-row",[a("h1",{staticClass:"col-6"},[e._v("Statistiques des membres")])]),e.dataPulledSuccefuly?a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",lg:"3"}},[a("TableBestParticipation",{attrs:{recordName:"pts",recordTitle:"Les plus actifs"}}),a("TableBestRecords",{attrs:{recordKey:"km",recordName:"Km",recordTitle:"Meilleurs rouleurs"}})],1),a("v-col",{staticClass:"d-none d-lg-block"},[a("TableMembers",{attrs:{actualEvent:e.actualEvent,newEventCreated:e.newEventCreated}})],1),a("v-col",{attrs:{cols:"12",sm:"6",lg:"2"}},[a("TableBestRecords",{attrs:{recordKey:"score",recordName:"",recordTitle:"Meilleurs scoreurs"}}),a("TableBestRecords",{attrs:{recordKey:"pts",recordName:"pts",recordTitle:"Meilleurs au point"}})],1),a("v-col",{staticClass:"d-lg-none",attrs:{md:"12"}},[a("TableMembers",{attrs:{actualEvent:e.actualEvent}})],1)],1):e._e()],1)},Ke=[],ze=(a("d81d"),a("b0c0"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",n,!1),s),[e._v(" Gestion de l'équipe ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Gestion de l'équipe")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:e.close}},[e._v(" Save ")])],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Joueurs Actifs")]),a("v-list-item",[a("ul",{staticClass:"players_list actif"},e._l(e.actifPlayers,(function(t){return a("li",{key:t.id,staticClass:"players_item actif"},[a("v-checkbox",{on:{click:function(a){return e.showPlayerDatas(t)}},model:{value:t.kicked,callback:function(a){e.$set(t,"kicked",a)},expression:"actifPlayer.kicked"}}),e._v(" "+e._s(t.nickname)+" "+e._s(t.kicked?"kické":"Actif")+" ")],1)})),0)]),a("v-subheader",[e._v("Joueurs Inactifs")]),a("v-list-item",[a("ul",{staticClass:"players_list inactif"},e._l(e.inactifPlayers,(function(t){return a("li",{key:t.id,staticClass:"players_item inactif"},[a("v-checkbox",{class:t,on:{click:function(a){return e.showPlayerDatas(t)}},model:{value:t.kicked,callback:function(a){e.$set(t,"kicked",a)},expression:"inactifPlayer.kicked"}}),e._v(" "+e._s(t.nickname)+" "+e._s(t.kicked?"kické":"Actif")+" ")],1)})),0)])],1)],1)],1)}),Je=[],Ge={data:function(){return{dialog:!1,notifications:!1,sound:!0,widgets:!1,actifPlayers:null,inactifPlayers:null,defaultActifPlayersDatas:null,defaultinactifPlayersDatas:null}},created:function(){this.actifPlayers=this.$store.getters.getActifPlayers,this.inactifPlayers=this.$store.getters.getInactifPlayers},methods:{showPlayerDatas:function(){console.log("item1",this.$store.getters.getPlayers[0]),console.log("item2",this.$store.getters.getPlayers[0])},close:function(){this.actifPlayers=[],this.actifPlayers=this.$store.getters.getActifPlayers,this.dialog=!1}}},He=Ge,We=(a("49a6"),a("e0c7")),Qe=a("2a7f"),Xe=Object(b["a"])(He,ze,Je,!1,null,"00c83c16",null),Ye=Xe.exports;k()(Xe,{VBtn:_["a"],VCard:x["a"],VCheckbox:_e["a"],VDialog:A["a"],VIcon:q["a"],VList:F["a"],VListItem:L["a"],VSpacer:H["a"],VSubheader:We["a"],VToolbar:Oe["a"],VToolbarItems:Qe["a"],VToolbarTitle:Qe["b"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"space-around"}},[a("v-col",{staticClass:"new-event_btn-container",attrs:{cols:"auto"}},[e.uuid&&"leader"===e.user.role?a("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-0",attrs:{color:"primary"},on:{click:e.showPickerFn}},"v-btn",n,!1),s),[e._v(" Nouvel event "),a("v-icon",{attrs:{small:""}},[e._v(" mdi-plus ")])],1)]}}],null,!1,3757651119),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.showPicker?[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Créer un nouvel event")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[e.showDateError?a("p",{staticClass:"warning"},[e._v(e._s(e.showDateErrorMsg))]):e._e()]),a("v-col",{attrs:{cols:"12"}},[a("h2",[e._v("Nom de l'event")]),a("v-text-field",{model:{value:e.newEventName,callback:function(t){e.newEventName=t},expression:"newEventName"}})],1),a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"mb-9"},[e._v("Durée de l'event")]),a("DatePicker",{on:{"emit-dates":e.getDates}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)]:e._e()],2):e._e()],1)],1)},et=[],tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"date-picker-container"},[a("v-date-picker",{attrs:{range:"","full-width":""},on:{input:e.emitDates},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)},at=[],st=a("3835"),nt=(a("a15b"),{data:function(){return{dates:[]}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},methods:{emitDates:function(){var e=null;if(2===this.dates.length){var t=this.dates[0].split("-"),a=Object(st["a"])(t,3),s=a[0],n=a[1],r=a[2],i=this.dates[1].split("-"),o=Object(st["a"])(i,3),c=o[0],l=o[1],u=o[2];e=["".concat(r,"/").concat(n,"/").concat(s),"".concat(u,"/").concat(l,"/").concat(c)]}this.$emit("emit-dates",e)}}}),rt=nt,it=a("2e4b"),ot=Object(b["a"])(rt,tt,at,!1,null,null,null),ct=ot.exports;k()(ot,{VDatePicker:it["a"]});var lt={components:{DatePicker:ct},data:function(){return{dialog:!1,teamId:"",newEventName:null,newEventDates:"",showPicker:!1,showDateError:!1,showDateErrorMsg:"Merci de choisir un interval de date : du 11/11/21 au 18/11/21 par ex et de rentrer un nom d'event"}},computed:{uuid:function(){return this.$store.getters.getUuid},user:function(){return this.$store.getters.getUser}},watch:{},mounted:function(){},methods:{showPickerFn:function(){this.showPicker=!0},getDates:function(e){this.newEventDates=e},save:function(){if(2===this.newEventDates.length&&null!=this.newEventName){var e={eventName:this.newEventName,start:this.newEventDates[0],end:this.newEventDates[1],actualEvent:!0};this.$store.dispatch("createNewEvent",e),this.$emit("new-event-created"),this.newEventName=this.newEventDates="",this.showPicker=!1,this.showDateError=!1,this.close()}else this.showDateError=!0},close:function(){this.showDateError=!1,this.dialog=!1}}},ut=lt,dt=(a("47d1"),Object(b["a"])(ut,Ze,et,!1,null,"34199ab6",null)),mt=dt.exports;k()(dt,{VBtn:_["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCol:w["a"],VContainer:C["a"],VDialog:A["a"],VIcon:q["a"],VRow:P["a"],VSpacer:H["a"],VTextField:E["a"],VToolbar:Oe["a"]});var vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"save-btns-container"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.dataSend,expression:"dataSend"}],staticClass:"success"},[e._v(" "+e._s(e.dataSendMsg)+" ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.dataPullSuccess,expression:"dataPullSuccess"}],staticClass:"success"},[e._v(" "+e._s(e.dataPullSuccessMsg)+" ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.alertFailed,expression:"alertFailed"}],staticClass:"error"},[e._v(" "+e._s(e.alertFailedMsg)+" ")]),a("v-btn",{staticClass:"save-btn",attrs:{color:"blue"},on:{click:e.pushDatas}},[e._v("Sauvegarder")]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.dataPullConfirm,expression:"dataPullConfirm"}],staticClass:"info"},[e._v(" "+e._s(e.dataPullConfirmMsg)+" "),a("v-btn",{on:{click:function(t){e.dataPullConfirm=!1}}},[e._v("Annuler")]),a("v-btn",{staticClass:"save-btn",attrs:{color:"blue"},on:{click:e.pullDatas}},[e._v("Continuer")])],1)],1)},ft=[],pt={data:function(){return{teamId:"",dataPullConfirmMsg:"Toutes les données non sauvegardées seront perdues",dataPullConfirm:!1,dataPullSuccess:!1,dataPullSuccessMsg:"Les données ont bien été récupérées",dataSend:!1,dataSendMsg:"Les données ont bien été sauvegardées !",alertFailed:!1,alertFailedMsg:"Une erreur s'est produite. Rechargez la page ou contactez un admin",nodataFound:!0,nodataFoundMsg:"Aucune données trouvées. Créez-en et sauvegarder les d'abord"}},computed:{players:function(){return this.$store.getters.getPlayers}},created:function(){this.teamId=window.location.pathname.split("/")[2]},methods:{pushDatas:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$store.getters.getEvents,s=e.$store.getters.getActifPlayers.length,n=e.$store.getters.getLeaders.length,r=Object(be["f"])(v),i=Object(be["c"])(r,"teams",e.teamId),t.next=8,Object(be["h"])(i,{players:e.players,events:a,actifPlayers:s,leaders:n}).then((function(){e.dataSend=!0,setTimeout((function(){e.dataSend=!1,console.log("data pushé")}),4e3)})).catch((function(e){console.log("err",e)}));case 8:t.next=16;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log("catched",t.t0),e.alertFailed=!0,e.dataPullConfirm=!1,e.dataPullSuccess=!1;case 16:case"end":return t.stop()}}),t,null,[[0,10]])})))()},pullDatas:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(be["f"])(v),s=Object(be["c"])(a,"teams",e.teamId),t.next=5,Object(be["d"])(s);case 5:n=t.sent,n.exists()?(r=n.data().players,e.$store.dispatch("setPlayers",r),e.dataPullSuccess=!0,setTimeout((function(){e.dataPullSuccess=!1,e.dataPullConfirm=!1}),4e3)):(e.nodataFound=!0,console.log("No such document!")),t.next=15;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("catched",t.t0),e.alertFailed=!0,e.dataPullConfirm=!1,e.dataPullSuccess=!1;case 15:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},ht=pt,bt=(a("354e"),Object(b["a"])(ht,vt,ft,!1,null,"d87c1fa4",null)),gt=bt.exports;k()(bt,{VBtn:_["a"]});var kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[void 0!=e.user.role?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.players,"item-class":e.row_classes,"items-per-page":50,"sort-by":"calories",search:e.search,"custom-filter":e.filterOnlyCapsText},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-text-field",{staticClass:"mx-4",attrs:{label:"Search (En minuscule uniquement)"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Event en cours")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-toolbar-title",[a("span",{staticClass:"title_event-name"},[a("h2",{staticClass:"title-h2"},[e._v(e._s(e.actualEventSelected?e.actualEventSelected.name:e.$store.getters.getActualEvent.eventName))])]),a("span",{staticClass:"title_event-date"},[e._v(" "+e._s(e.actualEventSelected?e.actualEventSelected.date:e.$store.getters.getActualEvent.start+" - "+e.$store.getters.getActualEvent.end)+" ")])]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,n=t.attrs;return[e.uuid&&"leader"===e.user.role?a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.generateId}},"v-btn",n,!1),s),[e._v(" Joueur "),a("v-icon",{attrs:{small:""}},[e._v(" mdi-plus ")])],1):e._e()]}}],null,!1,227625574),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle.name))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Pseudo"},model:{value:e.editedItem.nickname,callback:function(t){e.$set(e.editedItem,"nickname",t)},expression:"editedItem.nickname"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Id",disabled:""},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.gradeItems,label:"Grade",required:""},model:{value:e.editedItem.grade,callback:function(t){e.$set(e.editedItem,"grade",t)},expression:"editedItem.grade"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"score1",value:"12336"},model:{value:e.editedItem.score1,callback:function(t){e.$set(e.editedItem,"score1",t)},expression:"editedItem.score1"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"score2"},model:{value:e.editedItem.score2,callback:function(t){e.$set(e.editedItem,"score2",t)},expression:"editedItem.score2"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"score3"},model:{value:e.editedItem.score3,callback:function(t){e.$set(e.editedItem,"score3",t)},expression:"editedItem.score3"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"score4"},model:{value:e.editedItem.score4,callback:function(t){e.$set(e.editedItem,"score4",t)},expression:"editedItem.score4"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"km1"},model:{value:e.editedItem.km1,callback:function(t){e.$set(e.editedItem,"km1",t)},expression:"editedItem.km1"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"km2"},model:{value:e.editedItem.km2,callback:function(t){e.$set(e.editedItem,"km2",t)},expression:"editedItem.km2"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"km3"},model:{value:e.editedItem.km3,callback:function(t){e.$set(e.editedItem,"km3",t)},expression:"editedItem.km3"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"km4"},model:{value:e.editedItem.km4,callback:function(t){e.$set(e.editedItem,"km4",t)},expression:"editedItem.km4"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"pts1"},model:{value:e.editedItem.pts1,callback:function(t){e.$set(e.editedItem,"pts1",t)},expression:"editedItem.pts1"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"pts2"},model:{value:e.editedItem.pts2,callback:function(t){e.$set(e.editedItem,"pts2",t)},expression:"editedItem.pts2"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"pts3"},model:{value:e.editedItem.pts3,callback:function(t){e.$set(e.editedItem,"pts3",t)},expression:"editedItem.pts3"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"number",label:"pts4"},model:{value:e.editedItem.pts4,callback:function(t){e.$set(e.editedItem,"pts4",t)},expression:"editedItem.pts4"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Ajouter ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Expulser ce joueur ?")]),a("v-card-text",[e._v(" Ce joueur sera indiqué comme kické et apparaitra uniquement sur les events auxquels il a joué. ")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Pseudo",disabled:""},model:{value:e.editedItem.nickname,callback:function(t){e.$set(e.editedItem,"nickname",t)},expression:"editedItem.nickname"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Id",disabled:""},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm({name:e.editedItem.nickname,id:e.editedItem.id})}}},[e._v("OK")])],1)],1)],1)],1)]},proxy:!0},{key:"item.nickname",fn:function(t){var s=t.item,n=t.index;return[e._v(" #"+e._s(n+1)+" "),"leader"===s.grade?a("v-icon",{staticClass:"mb-1",attrs:{small:"",color:"primary"}},[e._v("mdi-account-tie")]):e._e(),"coleader"===s.grade?a("v-icon",{staticClass:"mb-1",attrs:{small:"",color:"secondary"}},[e._v("mdi-account-supervisor")]):e._e(),a("span",{staticClass:"nickname-title"},[e._v(" "+e._s(s.nickname)+" ")])]}},{key:"item.score1",fn:function(t){var s=t.item;return[a("div",{staticClass:"column-item-container"},[a("span",{class:["score",{zero:0===s.score1}]},[e._v(" "+e._s(s.score1)+" "),s.score1>3e4?a("v-icon",{attrs:{small:"",color:"#e52c2c"}},[e._v(" mdi-star ")]):e._e()],1),a("span",{class:["km",{zero:0===s.km1}]},[e._v(" "+e._s(s.km1)+" Km ")]),a("span",{staticClass:"pts"},[e._v(" "+e._s(s.pts1)+" pts ")])])]}},{key:"item.score2",fn:function(t){var s=t.item;return[a("div",{staticClass:"column-item-container"},[a("span",{class:["score",{zero:0===s.score2}]},[e._v(" "+e._s(s.score2)+" "),s.score2>3e4?a("v-icon",{attrs:{small:"",color:"#e52c2c"}},[e._v(" mdi-star ")]):e._e()],1),a("span",{class:["km",{zero:0===s.km2}]},[e._v(" "+e._s(s.km2)+" Km ")]),a("span",{staticClass:"pts"},[e._v(" "+e._s(s.pts2)+" pts ")])])]}},{key:"item.score3",fn:function(t){var s=t.item;return[a("div",{staticClass:"column-item-container"},[a("span",{class:["score",{zero:0===s.score3}]},[e._v(" "+e._s(s.score3)+" "),s.score3>3e4?a("v-icon",{attrs:{small:"",color:"#e52c2c"}},[e._v(" mdi-star ")]):e._e()],1),a("span",{class:["km",{zero:0===s.km3}]},[e._v(" "+e._s(s.km3)+" Km ")]),a("span",{staticClass:"pts"},[e._v(" "+e._s(s.pts3)+" pts ")])])]}},{key:"item.score4",fn:function(t){var s=t.item;return[a("div",{staticClass:"column-item-container"},[a("span",{class:["score",{zero:0===s.score4}]},[e._v(" "+e._s(s.score4)+" "),s.score4>3e4?a("v-icon",{attrs:{small:"",color:"#e52c2c"}},[e._v(" mdi-star ")]):e._e()],1),a("span",{class:["km",{zero:0===s.km4}]},[e._v(" "+e._s(s.km4)+" Km ")]),a("span",{staticClass:"pts"},[e._v(" "+e._s(s.pts4)+" pts ")])])]}},{key:"item.bestRecord",fn:function(t){var s=t.item;return[a("div",{staticClass:"column-item-container best-record"},[a("span",{staticClass:"score"},[e._v(" "+e._s(s.bestRecord)+" ")]),a("span",{staticClass:"km"},[e._v(" "+e._s(s.bestKm)+" Km ")]),a("span",{staticClass:"pts"},[e._v(" "+e._s(s.bestPts)+" pts ")])])]}},{key:"item.moyenne",fn:function(t){var s=t.item;return[a("div",{staticClass:"column-item-container"},[a("span",{staticClass:"score"},[e._v(" "+e._s(isNaN(s.moyenne.score)?0:s.moyenne.score)+" ")]),a("span",{staticClass:"km"},[e._v(" "+e._s(isNaN(s.moyenne.km)?0:s.moyenne.km)+" Km ")]),a("span",{staticClass:"pts"},[e._v(" "+e._s(isNaN(s.moyenne.pts)?0:s.moyenne.pts)+" pts ")])])]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),s.kicked?e._e():a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" "+e._s(e.reset)+" ")])]},proxy:!0}],null,!1,947321026)}):e._e()],1)},_t=[],xt=(a("b680"),a("4e82"),{props:{actualEvent:{type:Object,default:function(){}}},data:function(){return{dialog:!1,dialogDelete:!1,reset:"Recharger",search:"",headers:[{text:"Joueurs",align:"center",value:"nickname"},{text:"Score1",align:"center",value:"score1"},{text:"Score2",align:"center",value:"score2"},{text:"Score3",align:"center",value:"score3"},{text:"Score4",align:"center",value:"score4"},{text:"Meilleur Record",align:"center",value:"bestRecord",class:"best-record-header"},{text:"Moyenne",align:"center",value:"moyenne",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],allPlayers:null,players:[],scores:[],moyenne:"",bestRecord:"",bestKm:"",bestPts:"",grade:"",gradeItems:["leader","coleader","member"],editedIndex:-1,editedItem:{nickname:"",id:"",kicked:!1,grade:"",eventName:"",score1:0,score2:0,score3:0,score4:0,moyenne:"",bestRecord:"",bestKm:"",bestPts:"",km1:0,km2:0,km3:0,km4:0,pts1:0,pts2:0,pts3:0,pts4:0},defaultItem:{nickname:"",id:"",kicked:!1,grade:"",eventName:"",score1:0,score2:0,score3:0,score4:0,moyenne:"",bestRecord:"",bestKm:"",bestPts:"",km1:0,km2:0,km3:0,km4:0,pts1:0,pts2:0,pts3:0,pts4:0}}},computed:{formTitle:function(){return this.actualEventSelected||this.actualEvent},actualEventSelected:function(){return this.$store.state.eventSelected},playersDatas:function(){return this.actualEvent.date},uuid:function(){return this.$store.getters.getUuid},user:function(){return this.$store.getters.getUser}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()},actualEventSelected:function(){var e=this;this.players=[],this.allEvents.map((function(t){t.eventName===e.actualEventSelected.name&&e.allPlayers.map((function(a){a.stats.map((function(s,n){if(t.eventName===s.eventName){var r=n;e.players.push({nickname:a.nickname,id:a.id,grade:a.grade,kicked:a.kicked,eventName:s.eventName,score1:a.stats[r].eventParts[0].score,score2:a.stats[r].eventParts[1].score,score3:a.stats[r].eventParts[2].score,score4:a.stats[r].eventParts[3].score,moyenne:0,bestRecord:0,bestKm:0,bestPts:0,km1:a.stats[r].eventParts[0].km,km2:a.stats[r].eventParts[1].km,km3:a.stats[r].eventParts[2].km,km4:a.stats[r].eventParts[3].km,pts1:a.stats[r].eventParts[0].pts,pts2:a.stats[r].eventParts[1].pts,pts3:a.stats[r].eventParts[2].pts,pts4:a.stats[r].eventParts[3].pts})}}))}))})),this.calculBestScore("score1","score2","score3","score4","bestRecord"),this.calculBestScore("km1","km2","km3","km4","bestKm"),this.calculBestScore("pts1","pts2","pts3","pts4","bestPts"),this.calculMoyenne()},user:function(){return this.user}},created:function(){this.initialize()},methods:{initialize:function(){this.allPlayers=this.$store.getters.getPlayers,this.allEvents=this.$store.getters.getEvents,this.calculPlayersDatasByEvent()},calculPlayersDatasByEvent:function(){var e=this;this.allEvents.map((function(t){t.actualEvent&&e.allPlayers.map((function(a){a.stats.map((function(s,n){if(t.eventName===s.eventName){var r=n;e.players.push({nickname:a.nickname,id:a.id,grade:a.grade,kicked:a.kicked,eventName:s.eventName,score1:a.stats[r].eventParts[0].score,score2:a.stats[r].eventParts[1].score,score3:a.stats[r].eventParts[2].score,score4:a.stats[r].eventParts[3].score,moyenne:0,bestRecord:0,bestKm:0,bestPts:0,km1:a.stats[r].eventParts[0].km,km2:a.stats[r].eventParts[1].km,km3:a.stats[r].eventParts[2].km,km4:a.stats[r].eventParts[3].km,pts1:a.stats[r].eventParts[0].pts,pts2:a.stats[r].eventParts[1].pts,pts3:a.stats[r].eventParts[2].pts,pts4:a.stats[r].eventParts[3].pts})}}))}))})),this.calculMoyenne(),this.calculBestScore("score1","score2","score3","score4","bestRecord"),this.calculBestScore("km1","km2","km3","km4","bestKm"),this.calculBestScore("pts1","pts2","pts3","pts4","bestPts")},calculMoyenne:function(){var e="",t="",a="",s=3;this.players.map((function(e){e.score4>0&&(s=4)})),this.players.map((function(n){e=(Math.round(parseInt(n.score1)+parseInt(n.score2)+parseInt(n.score3)+parseInt(n.score4))/s).toFixed(0),t=(Math.round(parseInt(n.km1)+parseInt(n.km2)+parseInt(n.km3)+parseInt(n.km4))/s).toFixed(0),a=(Math.round(parseInt(n.pts1)+parseInt(n.pts2)+parseInt(n.pts3)+parseInt(n.pts4))/s).toFixed(0),n.moyenne={score:e,km:t,pts:a}}))},calculBestScore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4?arguments[4]:void 0;this.players.map((function(r){var i=[];i.push(r[e],r[t],r[a],r[s]),i.sort((function(e,t){return e-t})),r[n]=i[i.length-1]}))},generateId:function(){this.editedItem.id=this.players.length+1},editItem:function(e){this.editedIndex=this.players.indexOf(e),this.editedItem=Object.assign({},e),this.calculMoyenne(),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.players.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(e){var t=this;this.$store.dispatch("kickPlayer",e).then((function(){t.players=[],t.calculPlayersDatasByEvent()})),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.players[this.editedIndex],this.editedItem):this.players.push(this.editedItem),null!==this.actualEventSelected?this.editedItem.eventName=this.actualEventSelected.name:this.editedItem.eventName=this.actualEvent.name,this.$store.dispatch("updatePlayers",this.editedItem),this.calculMoyenne(),this.calculBestScore("score1","score2","score3","score4","bestRecord"),this.calculBestScore("km1","km2","km3","km4","bestKm"),this.calculBestScore("pts1","pts2","pts3","pts4","bestPts"),this.close()},filterOnlyCapsText:function(e,t){return null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().toLocaleLowerCase().indexOf(t)},row_classes:function(e){if(e.kicked)return"kicked"}}}),yt=xt,wt=(a("8520"),a("ce7e")),Ct=Object(b["a"])(yt,kt,_t,!1,null,"5a3a4542",null),It=Ct.exports;k()(Ct,{VBtn:_["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:C["a"],VDataTable:je["a"],VDialog:A["a"],VDivider:wt["a"],VIcon:q["a"],VRow:P["a"],VSelect:T["a"],VSpacer:H["a"],VTextField:E["a"],VToolbar:Oe["a"],VToolbarTitle:Qe["b"]});var Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"best-runners_container",attrs:{fluid:""}},[a("h3",{staticClass:"mb-10 encart-h3"},[e._v(e._s(e.recordTitle))]),a("ul",{staticClass:"list"},e._l(e.bestParticipation,(function(t,s){return a("li",{key:t.id,staticClass:"item"},[a("span",{staticClass:"item_title item_text",attrs:{title:t.playerName}},[a("span",{staticClass:"item_title-user-id"},[e._v("#"+e._s(s+1)+" ")]),a("span",{staticClass:"item_title-user-name"},[e._v(e._s(t.playerName))])]),a("span",{staticClass:"item_value item_text"},[e._v(" "+e._s(t.nbreParticipation)+" "),a("span",{staticClass:"item_fff item_text",attrs:{title:t.nbreParticipation>1?t.nbreParticipation+"participations":t.nbreParticipation+"participation"}},[e._v(" "+e._s(t.nbreParticipation>1?"parts..":"part..")+" ")])])])})),0)])},Et=[],St={data:function(){return{allPlayers:null,actualEvent:{},bestRecords:null,bestParticipation:[]}},props:{recordName:{type:String,default:function(){}},recordTitle:{type:String,default:function(){}}},created:function(){var e=this;this.allPlayers=this.$store.getters.getPlayers,this.allEvents=this.$store.getters.getEvents,this.allEvents.map((function(t,a){t.actualEvent&&(e.actualEvent.name=t.eventName,e.actualEvent.date=t.start+" - "+t.end,e.actualEventIndex=a)})),this.calculBestPlayerByPts(this.actualEvent.name)},computed:{actualEventSelected:function(){return this.$store.state.eventSelected},playersUpdated:function(){return this.$store.state.playersUpdated}},watch:{actualEventSelected:function(){this.calculBestPlayerByPts(this.actualEventSelected.name)},playersUpdated:function(){this.allPlayers=this.$store.getters.getPlayers,null!==this.actualEventSelected?this.calculBestPlayerByPts(this.actualEventSelected.name):this.calculBestPlayerByPts(this.actualEvent.name)}},mounted:function(){},methods:{calculBestPlayerByPts:function(e){var t=this,a=[];this.allPlayers.map((function(s){s.stats.map((function(n){if(e===n.eventName){for(var r=[],i=0;i<n.eventParts.length;i++)r.push(n.eventParts[i][t.recordName]);var o=0;0!=r[0]&&(o+=1),0!=r[1]&&(o+=1),0!=r[2]&&(o+=1),a.push({playerName:s.nickname,nbreParticipation:o})}}))})),a.sort((function(e,t){return t.nbreParticipation-e.nbreParticipation})),this.bestParticipation=a}}},Vt=St,$t=(a("b807"),Object(b["a"])(Vt,Pt,Et,!1,null,"dc442c22",null)),jt=$t.exports;k()($t,{VContainer:C["a"]});var Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"best-runners_container",attrs:{fluid:""}},[a("h3",{staticClass:"mb-10 encart-h3"},[e._v(e._s(e.recordTitle))]),a("ul",{staticClass:"list"},e._l(e.bestRecords,(function(t,s){return a("li",{key:t.id,staticClass:"item"},[a("span",{staticClass:"item_title item_text",attrs:{title:t.playerName}},[a("span",{staticClass:"item_title-user-id"},[e._v("#"+e._s(s+1)+" ")]),a("span",{staticClass:"item_title-user-name"},[e._v(e._s(t.playerName))])]),a("span",{staticClass:"item_value item_text"},[e._v(" "+e._s(t.bestRecord)+" "+e._s(e.recordName)+" ")])])})),0)])},Dt=[],Nt={data:function(){return{actualEvent:{},bestRecords:null}},props:{recordKey:{type:String,default:function(){}},recordName:{type:String,default:function(){}},recordTitle:{type:String,default:function(){}},newEventCreated:{type:Boolean,default:!1}},created:function(){var e=this;this.allEvents=this.$store.getters.getEvents,this.allEvents.map((function(t,a){t.actualEvent&&(e.actualEvent.name=t.eventName,e.actualEvent.date=t.start+" - "+t.end,e.actualEventIndex=a)})),this.calculBestPlayerByPts(this.actualEvent.name)},computed:{actualEventSelected:function(){return this.$store.state.eventSelected},playersUpdated:function(){return this.$store.state.playersUpdated},allPlayers:function(){return this.$store.getters.getPlayers}},watch:{actualEventSelected:function(){this.calculBestPlayerByPts(this.actualEventSelected.name)},playersUpdated:function(){null!==this.actualEventSelected?this.calculBestPlayerByPts(this.actualEventSelected.name):this.calculBestPlayerByPts(this.actualEvent.name)}},mounted:function(){},methods:{calculBestPlayerByPts:function(e){var t=this,a=[];this.allPlayers.map((function(s){s.stats.map((function(n){if(e===n.eventName){for(var r=[],i=0,o=0;o<n.eventParts.length;o++)r.push(n.eventParts[o][t.recordKey]);if(r.sort((function(e,t){return e-t})),i=r[r.length-1],"pts"===t.recordKey){var c=parseInt(r[0])+parseInt(r[1])+parseInt(r[2])+parseInt(r[3]);a.push({playerName:s.nickname,bestRecord:c})}else a.push({playerName:s.nickname,bestRecord:i})}}))})),a.sort((function(e,t){return t.bestRecord-e.bestRecord})),this.bestRecords=a}}},Tt=Nt,Rt=(a("3168"),Object(b["a"])(Tt,Ot,Dt,!1,null,"f25db854",null)),Bt=Rt.exports;k()(Rt,{VContainer:C["a"]});var Mt={name:"TeamPage",data:function(){return{showInfo:!0,actualEvent:{},actualEventIndex:null,allEvents:null,eventsItems:[],events:"",newEventCreated:!1,dataPulledSuccefuly:!1}},computed:{actualEventFn:function(){return this.actualEvent},user:function(){return this.$store.getters.getUser}},components:{TableMembers:It,TableBestRecords:Bt,NewEvent:mt,TableBestParticipation:jt,Modal:Ye,SaveBtns:gt},watch:{events:function(e){var t=this,a={};this.allEvents.map((function(s,n){s.eventName===e&&(a.name=s.eventName,a.date=s.start+" - "+s.end,t.actualEventIndex=n)})),this.$store.commit("updateEventSelected",a)}},created:function(){var e=this;this.pullDatas().then((function(){e.initEvent(),e.allEvents.map((function(t,a){t.eventName&&(e.actualEvent.name=t.eventName,e.actualEvent.date=t.start+" - "+t.end,e.actualEvent.index=a)}))})).then((function(){e.dataPulledSuccefuly=!0}))},methods:{initEvent:function(){var e=this;this.allEvents=this.$store.getters.getEvents,this.allEvents.map((function(t){e.eventsItems.push(t.eventName)}))},pullDatas:function(){var e=this;return Object(fe["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=window.location.pathname.split("/")[2],t.prev=1,s=Object(be["f"])(v),n=Object(be["c"])(s,"teams",a),t.next=6,Object(be["d"])(n);case 6:r=t.sent,r.exists()?(void 0!=r.data().players&&(i=r.data().players,e.$store.dispatch("setPlayers",i),e.dataPullSuccess=!0,setTimeout((function(){e.dataPullSuccess=!1,e.dataPullConfirm=!1}),4e3)),void 0!=r.data().events&&(o=r.data().events,e.$store.dispatch("setEvents",o))):(e.nodataFound=!0,console.log("aucune donnée trouvée")),t.next=16;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("catched",t.t0),e.alertFailed=!0,e.dataPullConfirm=!1,e.dataPullSuccess=!1;case 16:case"end":return t.stop()}}),t,null,[[1,10]])})))()},newEventCreatedFn:function(){var e=this;this.initEvent(),this.events=this.allEvents[this.allEvents.length-1].eventName,this.newEventCreated=!0;var t=this.$store.getters.getPlayers;t.map((function(t){t.kicked||t.stats.push({eventName:e.events,eventParts:[{score:0,km:0,pts:0},{score:0,km:0,pts:0},{score:0,km:0,pts:0},{score:0,km:0,pts:0}],moyenne:0,bestRecord:0,bestKm:0,bestPts:0})}))}}},Ut=Mt,At=(a("bbc0"),Object(b["a"])(Ut,Le,Ke,!1,null,"e7590cfc",null)),qt=At.exports;k()(At,{VBtn:_["a"],VCol:w["a"],VContainer:C["a"],VRow:P["a"],VSelect:T["a"],VSpacer:H["a"]});var Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-dashboard"},[a("UserDashboard")],1)},Lt=[],Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"team-list-container"},[a("v-row",{},e._l(e.userDatas,(function(t){return a("div",{key:t.id},[a("h1",{staticClass:"warning"},[e._v("WIP : Work In Progress")]),a("p",{staticClass:"warning"},[e._v("Toutes les fonctionnalités ne sont pas encore implémentées")]),a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("Bienvenue "+e._s(t.nickname))])]),a("v-col",{attrs:{cols:"12"}},[a("p",{staticClass:"user-dashboard-info"},[a("span",[e._v("Ici tu vas pouvoir modifier dtes informations. ")]),a("span",[e._v("Il te sera possible également de supprimer ton compte (action irréversible). ")]),a("span",[e._v("Les modifications apportées à ton compte n'auront aucun impact sur les scores rentrés dans le tableau de la teamp page")]),a("span",[e._v("Seul le leader à la main sur le code d'entrée. N'hésite pas à le lui demander pour intégrer une team")])])]),a("v-col",{attrs:{cols:"12"}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Modifier les informations")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"nickname"},model:{value:e.editedItem.nickname,callback:function(t){e.$set(e.editedItem,"nickname",t)},expression:"editedItem.nickname"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"teamname"},model:{value:e.editedItem.teamCode,callback:function(t){e.$set(e.editedItem,"teamCode",t)},expression:"editedItem.teamCode"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"teamCode"},model:{value:e.editedItem.teamCode,callback:function(t){e.$set(e.editedItem,"teamCode",t)},expression:"editedItem.teamCode"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.roleItems,label:"role",rules:[function(e){return!!e||"Merci d'indiquer ton rôle"}]},model:{value:e.editedItem.role,callback:function(t){e.$set(e.editedItem,"role",t)},expression:"editedItem.role"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("div",{staticClass:"user-info-list-container"},[void 0!=e.userDatas[0].nickname?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(a){return e.editItem(t)}}},[e._v(" Modifier les infos ")]):e._e(),a("div",{staticClass:"user-info-container"},[a("span",{staticClass:"user-label"},[e._v(" Email : ")]),a("span",{staticClass:"user-info"},[e._v(" "+e._s(t.email)+" ")])]),a("div",{staticClass:"user-info-container"},[a("span",{staticClass:"user-label"},[e._v(" Pseudo : ")]),a("span",{staticClass:"user-info"},[e._v(" "+e._s(t.nickname)+" ")])]),a("div",{staticClass:"user-info-container"},[a("span",{staticClass:"user-label"},[e._v(" Nom de l'équipe : ")]),a("span",{staticClass:"user-info"},[e._v(" "+e._s(t.teamname)+" ")])]),a("div",{staticClass:"user-info-container"},[a("span",{staticClass:"user-label"},[e._v(" role : ")]),a("span",{staticClass:"user-info"},[e._v(" "+e._s(t.role)+" ")])]),a("div",{staticClass:"user-info-container"},[a("span",{staticClass:"user-label"},[e._v(" teamId : ")]),a("span",{staticClass:"user-info"},[e._v(" "+e._s(t.teamId)+" ")])]),"leader"===t.role?a("div",{staticClass:"user-info-container"},[a("span",{staticClass:"user-label"},[e._v(" teamCode : ")]),a("span",{staticClass:"user-info"},[e._v(" "+e._s(t.teamCode)+" ")])]):e._e()],1)],1)],1)})),0)],1)},zt=[],Jt={components:{},name:"TeamLists",data:function(){return{valid:!0,dialog:!1,user:null,nickname:"",teamname:"",teamCode:"",teamId:"",role:"",roleItems:["leader","coleader","membre"],email:"",password:"",editedIndex:-1,editedItem:{nickname:"",teamname:"",teamCode:"",teamId:"",role:"",email:"",password:""},defaultItem:{nickname:"",teamname:"",teamCode:"",teamId:"",role:"",email:"",password:""}}},computed:{uuid:function(){return this.$store.getters.getUuid},userDatas:function(){return[this.$store.getters.getUser]}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){return Object(fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{validateCode:function(){},cancel:function(){},editItem:function(e){this.editedIndex=this.userDatas.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.userDatas[this.editedIndex],this.editedItem):this.userDatas.push(this.editedItem),this.close()}}},Gt=Jt,Ht=(a("080a"),Object(b["a"])(Gt,Kt,zt,!1,null,"c8f0181a",null)),Wt=Ht.exports;k()(Ht,{VBtn:_["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:C["a"],VDialog:A["a"],VRow:P["a"],VSelect:T["a"],VSpacer:H["a"],VTextField:E["a"]});var Qt={name:"Dashboard",data:function(){return{}},computed:{},components:{UserDashboard:Wt},watch:{},created:function(){},methods:{}},Xt=Qt,Yt=Object(b["a"])(Xt,Ft,Lt,!1,null,"65067b0c",null),Zt=Yt.exports;s["a"].use(ie["a"]);var ea=[{path:"/",name:"Home",component:Fe},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/teamPage/:teamId",name:"TeamPage",component:qt,beforeEnter:function(e,t,a){var s=localStorage.getItem("uuid");"null"!=s?a():a("/")}},{path:"/dashboard/:uuid",name:"Dashboard",component:Zt}],ta=new ie["a"]({mode:"history",base:"/",routes:ea}),aa=ta,sa=(a("4de4"),a("2f62"));s["a"].use(sa["a"]);var na=new sa["a"].Store({state:{uuid:null,user:{},players:[],events:[],eventSelected:null,playersUpdated:!1},getters:{getUuid:function(e){return e.uuid},getUser:function(e){return e.user},getPlayers:function(e){return e.players},getActifPlayers:function(e){var t=e.players.filter((function(e){return!1===e.kicked}));return t},getLeaders:function(e){var t=e.players.filter((function(e){return!1===e.kicked})),a=t.filter((function(e){return"leader"===e.grade||"coleader"===e.grade}));return a},getInactifPlayers:function(e){var t=e.players.filter((function(e){return e.kicked}));return t},getPlayersName:function(e){var t=[];return e.players.map((function(e){return t.push(e.nickname)})),t},getEvents:function(e){return e.events},getActualEvent:function(e){var t=null;return e.events.map((function(e){e.actualEvent&&(t=e)})),t},getBestPlayersByKm:function(e,t){var a=[];return e.players.map((function(e){e.stats.map((function(s){if(t.getActualEvent.eventName===s.eventName){for(var n=[],r=0,i=0;i<s.eventParts.length;i++)n.push(s.eventParts[i].km);n.sort((function(e,t){return e-t})),r=n[n.length-1],a.push({playerName:e.nickname,bestKm:r})}}))})),a}},mutations:{setUuid:function(e,t){e.uuid=t},setUser:function(e,t){e.user=t},setPlayers:function(e,t){e.players=t},setEvents:function(e,t){e.events=t},updateEventSelected:function(e,t){e.eventSelected=t},updatePlayers:function(e,t){e.playersUpdated=!e.playersUpdated;var a=e.players.filter((function(e){return t.id===e.id}));a.length>0?e.players.map((function(e){if(a[0].id===e.id)for(var s=0;s<e.stats.length;s++)t.eventName===e.stats[s].eventName&&(e.nickname=t.nickname,e.grade=t.grade,e.stats[s].eventName=t.eventName,e.stats[s].eventParts[0].score=t.score1,e.stats[s].eventParts[0].km=t.km1,e.stats[s].eventParts[0].pts=t.pts1,e.stats[s].eventParts[1].score=t.score2,e.stats[s].eventParts[1].km=t.km2,e.stats[s].eventParts[1].pts=t.pts2,e.stats[s].eventParts[2].score=t.score3,e.stats[s].eventParts[2].km=t.km3,e.stats[s].eventParts[2].pts=t.pts3,e.stats[s].eventParts[3].score=t.score4,e.stats[s].eventParts[3].km=t.km4,e.stats[s].eventParts[3].pts=t.pts4)})):e.players.push({nickname:t.nickname,id:t.id,kicked:t.kicked,grade:t.grade,stats:[{eventName:t.eventName,eventParts:[{score:t.score1,km:t.km1,pts:t.pts1},{score:t.score2,km:t.km2,pts:t.pts2},{score:t.score3,km:t.km3,pts:t.pts3},{score:t.score4,km:t.km4,pts:t.pts4}],moyenne:t.moyenne,bestRecord:t.bestRecord,bestKm:t.bestKm,bestPts:t.bestPts}]})},kickPlayer:function(e,t){e.players.filter((function(e){return t.id===e.id?e.kicked=!0:""}))},createNewEvent:function(e,t){e.events.map((function(e){e.actualEvent&&(e.actualEvent=!1)})),e.events.push(t)},cleanStore:function(e){e.uuid=null,e.user={},e.players=[],e.eventSelected=null,e.playersUpdated=!1}},actions:{setUuid:function(e,t){var a=e.commit;return new Promise((function(e){a("setUuid",t),e()}))},setUser:function(e,t){var a=e.commit;return new Promise((function(e){a("setUser",t),e()}))},setPlayers:function(e,t){var a=e.commit;return new Promise((function(e){a("setPlayers",t),e()}))},setEvents:function(e,t){var a=e.commit;return new Promise((function(e){a("setEvents",t),e()}))},createNewEvent:function(e,t){var a=e.commit;return new Promise((function(e){a("createNewEvent",t),e()}))},kickPlayer:function(e,t){var a=e.commit;return new Promise((function(e){a("kickPlayer",t),e()}))},updatePlayers:function(e,t){var a=e.commit;return new Promise((function(e){a("updatePlayers",t),e()}))},cleanStore:function(e){var t=e.commit;return new Promise((function(e){t("cleanStore"),e()}))}},modules:{}}),ra=a("f309");s["a"].use(ra["a"]);var ia=new ra["a"]({theme:{themes:{light:{primary:"#63411e",blue:"#0000ff",green:"#ecc73e",greenApple:"#acce5f",greenDarker:"#94722c"}}}});s["a"].config.productionTip=!1,new s["a"]({router:aa,store:na,vuetify:ia,render:function(e){return e(ne)}}).$mount("#app")},6199:function(e,t,a){},6219:function(e,t,a){},"754f":function(e,t,a){e.exports=a.p+"img/Hill_Climber.2f3343b0.png"},"7a79":function(e,t,a){"use strict";a("6199")},"7cd8":function(e,t,a){},"80f0":function(e,t,a){"use strict";a("7cd8")},8307:function(e,t,a){},8520:function(e,t,a){"use strict";a("9cb3")},"855f":function(e,t,a){},"9cb3":function(e,t,a){},b807:function(e,t,a){"use strict";a("d43f")},bbc0:function(e,t,a){"use strict";a("6219")},d37c:function(e,t,a){},d43f:function(e,t,a){},e815:function(e,t,a){}});
//# sourceMappingURL=app.aa1bb2bf.js.map